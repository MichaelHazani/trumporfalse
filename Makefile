REQUIRE_MODULES=-r react -r react-dom -r fela -r react-fela -r redux -r react-redux -r underscore -r markovchain -r redux-logger -r redux-thunk

EXCLUDE_MODULES=-x Base64 -x JSONStream -x abbrev -x accepts -x acorn -x align-text -x amdefine -x ansi-regex -x ansi-styles -x anymatch -x aproba -x are-we-there-yet -x arr-diff -x arr-flatten -x array-filter -x array-find-index -x array-flatten -x array-index -x array-map -x array-reduce -x array-uniq -x array-unique -x arrify -x asap -x asn1 -x asn1.js -x assert -x assert-plus -x astw -x async -x async-each -x async-foreach -x asynckit -x aws-sign2 -x aws4 -x babel -x babel-cli -x babel-code-frame -x babel-core -x babel-generator -x babel-helper-bindify-decorators -x babel-helper-builder-binary-assignment-operator-visitor -x babel-helper-builder-react-jsx -x babel-helper-call-delegate -x babel-helper-define-map -x babel-helper-explode-assignable-expression -x babel-helper-explode-class -x babel-helper-function-name -x babel-helper-get-function-arity -x babel-helper-hoist-variables -x babel-helper-optimise-call-expression -x babel-helper-regex -x babel-helper-remap-async-to-generator -x babel-helper-replace-supers -x babel-helpers -x babel-loader -x babel-messages -x babel-plugin-check-es2015-constants -x babel-plugin-syntax-async-functions -x babel-plugin-syntax-async-generators -x babel-plugin-syntax-class-properties -x babel-plugin-syntax-decorators -x babel-plugin-syntax-exponentiation-operator -x babel-plugin-syntax-flow -x babel-plugin-syntax-jsx -x babel-plugin-syntax-object-rest-spread -x babel-plugin-syntax-trailing-function-commas -x babel-plugin-transform-async-generator-functions -x babel-plugin-transform-async-to-generator -x babel-plugin-transform-class-properties -x babel-plugin-transform-decorators -x babel-plugin-transform-es2015-arrow-functions -x babel-plugin-transform-es2015-block-scoped-functions -x babel-plugin-transform-es2015-block-scoping -x babel-plugin-transform-es2015-classes -x babel-plugin-transform-es2015-computed-properties -x babel-plugin-transform-es2015-destructuring -x babel-plugin-transform-es2015-duplicate-keys -x babel-plugin-transform-es2015-for-of -x babel-plugin-transform-es2015-function-name -x babel-plugin-transform-es2015-literals -x babel-plugin-transform-es2015-modules-amd -x babel-plugin-transform-es2015-modules-commonjs -x babel-plugin-transform-es2015-modules-systemjs -x babel-plugin-transform-es2015-modules-umd -x babel-plugin-transform-es2015-object-super -x babel-plugin-transform-es2015-parameters -x babel-plugin-transform-es2015-shorthand-properties -x babel-plugin-transform-es2015-spread -x babel-plugin-transform-es2015-sticky-regex -x babel-plugin-transform-es2015-template-literals -x babel-plugin-transform-es2015-typeof-symbol -x babel-plugin-transform-es2015-unicode-regex -x babel-plugin-transform-exponentiation-operator -x babel-plugin-transform-flow-strip-types -x babel-plugin-transform-object-rest-spread -x babel-plugin-transform-react-display-name -x babel-plugin-transform-react-jsx -x babel-plugin-transform-react-jsx-self -x babel-plugin-transform-react-jsx-source -x babel-plugin-transform-regenerator -x babel-plugin-transform-strict-mode -x babel-polyfill -x babel-preset-es2015 -x babel-preset-react -x babel-preset-stage-2 -x babel-preset-stage-3 -x babel-register -x babel-runtime -x babel-template -x babel-traverse -x babel-types -x babelify -x babylon -x balanced-match -x base64-js -x bcrypt-pbkdf -x big.js -x bin-version -x bin-version-check -x binary-extensions -x bl -x block-stream -x bn.js -x boom -x brace-expansion -x braces -x brorand -x browser-pack -x browser-resolve -x browserify -x browserify-aes -x browserify-cipher -x browserify-des -x browserify-rsa -x browserify-sign -x browserify-transform-tools -x browserify-zlib -x buffer -x buffer-shims -x buffer-xor -x builtin-modules -x builtin-status-codes -x camelcase -x camelcase-keys -x caseless -x center-align -x chalk -x chokidar -x cipher-base -x classnames -x cliui -x clone -x code-point-at -x combine-source-map -x combined-stream -x commander -x concat-map -x concat-stream -x console-browserify -x console-control-strings -x constants-browserify -x content-disposition -x content-type -x convert-source-map -x cookie -x cookie-signature -x core-js -x core-util-is -x create-ecdh -x create-hash -x create-hmac -x cross-spawn -x cryptiles -x crypto-browserify -x cssify -x currently-unhandled -x d -x dashdash -x date-now -x debug -x decamelize -x deep-extend -x deepfreeze -x define-properties -x defined -x delayed-stream -x delegates -x depd -x deps-sort -x des.js -x destroy -x detect-indent -x detective -x diffie-hellman -x domain-browser -x duplexer2 -x ecc-jsbn -x ee-first -x elliptic -x emojis-list -x encodeurl -x encoding -x enhanced-resolve -x errno -x error-ex -x es-abstract -x es-to-primitive -x es5-ext -x es6-iterator -x es6-map -x es6-set -x es6-symbol -x escape-html -x escape-string-regexp -x esutils -x etag -x event-emitter -x events -x evp_bytestokey -x expand-brackets -x expand-range -x expect -x express -x extend -x extglob -x extsprintf -x falafel -x fbjs -x fela -x filename-regex -x fill-range -x finalhandler -x find-up -x find-versions -x for-in -x for-own -x foreach -x forever-agent -x form-data -x forwarded -x fresh -x fs-readdir-recursive -x fs.realpath -x fsevents -x fstream -x fstream-ignore -x function-bind -x gauge -x gaze -x generate-function -x generate-object-property -x get-caller-file -x get-stdin -x getpass -x glob -x glob-base -x glob-parent -x globals -x globule -x graceful-fs -x graceful-readlink -x har-validator -x has -x has-ansi -x has-color -x has-flag -x has-unicode -x hash.js -x hawk -x hoek -x hoist-non-react-statics -x home-or-tmp -x hosted-git-info -x htmlescape -x http-browserify -x http-errors -x http-signature -x https-browserify -x hyphenate-style-name -x iconv-lite -x ieee754 -x immutable -x in-publish -x indent-string -x indexof -x inflight -x inherits -x ini -x inline-source-map -x insert-module-globals -x interpret -x invariant -x invert-kv -x ipaddr.js -x is-arrayish -x is-arrow-function -x is-binary-path -x is-boolean-object -x is-buffer -x is-builtin-module -x is-callable -x is-date-object -x is-dotfile -x is-equal -x is-equal-shallow -x is-extendable -x is-extglob -x is-finite -x is-fullwidth-code-point -x is-generator-function -x is-glob -x is-my-json-valid -x is-number -x is-number-object -x is-posix-bracket -x is-primitive -x is-property -x is-regex -x is-stream -x is-string -x is-symbol -x is-typedarray -x is-utf8 -x isarray -x isexe -x isobject -x isomorphic-fetch -x isstream -x jodid25519 -x js-tokens -x jsbn -x jsesc -x json-schema -x json-stable-stringify -x json-stringify-safe -x json5 -x jsonify -x jsonparse -x jsonpointer -x jsprim -x kind-of -x labeled-stream-splicer -x lazy-cache -x lcid -x lexical-scope -x load-json-file -x loader-utils -x lodash -x lodash-es -x lodash.assign -x lodash.clonedeep -x lodash.memoize -x log-symbols -x longest -x loose-envify -x loud-rejection -x lru-cache -x map-obj -x markovchain -x media-typer -x memory-fs -x meow -x merge-descriptors -x methods -x micromatch -x miller-rabin -x mime -x mime-db -x mime-types -x minimalistic-assert -x minimatch -x minimist -x mkdirp -x module-deps -x ms -x nan -x negotiator -x node-fetch -x node-gyp -x node-libs-browser -x node-pre-gyp -x node-sass -x node-uuid -x nopt -x normalize-package-data -x normalize-path -x npmlog -x number-is-nan -x oauth -x oauth-sign -x object-assign -x object-inspect -x object-keys -x object.entries -x object.omit -x on-finished -x once -x optimist -x os-browserify -x os-homedir -x os-locale -x os-tmpdir -x osenv -x outpipe -x output-file-sync -x pako -x parents -x parse-asn1 -x parse-glob -x parse-json -x parseurl -x path-array -x path-browserify -x path-exists -x path-is-absolute -x path-platform -x path-to-regexp -x path-type -x pbkdf2 -x pbkdf2-compat -x pick-one-by-weight -x pify -x pinkie -x pinkie-promise -x preserve -x private -x process -x process-nextick-args -x promise -x proxy-addr -x prr -x pseudomap -x public-encrypt -x punycode -x qs -x querystring -x querystring-es3 -x randomatic -x randombytes -x range-parser -x rc -x react -x react-addons-css-transition-group -x react-dom -x react-fela -x react-redux -x read-only-stream -x read-pkg -x read-pkg-up -x readable-stream -x readdirp -x redent -x redux -x redux-devtools -x redux-devtools-instrument -x regenerate -x regenerator-runtime -x regex-cache -x regexpu-core -x regjsgen -x regjsparser -x repeat-element -x repeat-string -x repeating -x request -x require-directory -x require-main-filename -x resolve -x resolve-bower -x right-align -x rimraf -x ripemd160 -x sass-graph -x sass-module-importer -x sassify -x semver -x semver-regex -x semver-truncate -x send -x serve-static -x set-blocking -x set-immediate-shim -x setprototypeof -x sha.js -x shasum -x shebang-regex -x shell-quote -x signal-exit -x slash -x sntp -x source-list-map -x source-map -x source-map-support -x spdx-correct -x spdx-expression-parse -x spdx-license-ids -x sshpk -x statuses -x stream-browserify -x stream-combiner2 -x stream-http -x stream-splicer -x string-width -x string_decoder -x stringstream -x strip-ansi -x strip-bom -x strip-indent -x strip-json-comments -x subarg -x supports-color -x symbol-observable -x syntax-error -x tapable -x tar -x tar-pack -x through -x through2 -x timers-browserify -x tmatch -x to-arraybuffer -x to-fast-properties -x tough-cookie -x trim-newlines -x tty-browserify -x tunnel-agent -x tweetnacl -x twitter -x twitter-node-client -x type-is -x typedarray -x ua-parser-js -x uglify-js -x uglify-to-browserify -x uid-number -x umd -x underscore -x unpipe -x url -x user-home -x util -x util-deprecate -x utils-merge -x v8flags -x validate-npm-package-license -x vary -x verror -x vm-browserify -x watchify -x watchpack -x webpack -x webpack-core -x whatwg-fetch -x which -x which-module -x wide-align -x window-size -x wordwrap -x wrap-ansi -x wrappy -x x-is-object -x xtend -x y18n -x yallist -x yargs -x yargs-parser

watch-js:
	watchify $(EXCLUDE_MODULES) -v -e src/js/app.js -t [ babelify --presets [ es2015 react stage-2 ] ] --debug -o dist/app.js

build-libs:
	browserify $(REQUIRE_MODULES) -o dist/libs.js
